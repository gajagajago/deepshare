# slurm.conf file generated by configurator.html.
# Put this file on all nodes of your cluster.
# See the slurm.conf man page for more information.
#
ClusterName=deepshare-test
SlurmctldHost=elsa-10

GresTypes=gpu
JobRequeue=1
MpiDefault=none
ProctrackType=proctrack/cgroup
PrologFlags=Contain
ReturnToService=1
SchedulerParameters=enable_user_top
SlurmctldPidFile=/var/run/slurmctld.pid
SlurmctldPort=6817
SlurmdPidFile=/var/run/slurmd.pid
SlurmdPort=6818
SlurmdSpoolDir=/var/spool/slurmd
SlurmUser=root
SlurmdUser=root
StateSaveLocation=/var/spool/slurmctld
SwitchType=switch/none
#
#
# TIMERS
InactiveLimit=0
KillWait=10 # Interval, in seconds, given to a job between the SIGTERM and SIGKILL
MinJobAge=300
SlurmctldTimeout=120
SlurmdTimeout=300
Waittime=0
#
#
# SCHEDULING
SchedulerParameters=\
default_queue_depth=100,\ # Number of jobs to attempt scheduling
sched_interval=5,\ # Scheduling interval in seconds
sched_min_interval=5000000,\ # Scheduling interval in microseconds
defer # Buffered scheduling. Guaranteed for round based scheduling
SchedulerType=sched/builtin
SelectType=select/cons_tres
SelectTypeParameters=CR_Core_Memory
PreemptMode=CANCEL
PreemptType=preempt/partition_prio
PreemptExemptTime=-1 # Min run time before preemption
SlurmctldParameters=preempt_send_user_signal
#
#
# JOB PRIORITY
#PriorityFlags=
PriorityType=priority/multifactor
#PriorityDecayHalfLife=
#PriorityCalcPeriod=
#PriorityFavorSmall=
#PriorityMaxAge=
#PriorityUsageResetPeriod=
PriorityWeightAge=0
PriorityWeightFairshare=0
PriorityWeightJobSize=0
PriorityWeightPartition=0
PriorityWeightQOS=0
#
#
# LOGGING AND ACCOUNTING
AccountingStorageType=accounting_storage/none
JobCompType=jobcomp/none
JobAcctGatherFrequency=30
JobAcctGatherType=jobacct_gather/cgroup
SlurmctldDebug=info
SlurmctldLogFile=/var/log/slurmctld.log
SlurmdDebug=info
SlurmdLogFile=/var/log/slurmd.log
#
#
# COMPUTE NODES
NodeName=elsa-10 CPUs=72 SocketsPerBoard=2 CoresPerSocket=18 ThreadsPerCore=2 RealMemory=180000 Gres=gpu:titan:6 State=UNKNOWN
NodeName=elsa-11 CPUs=72 SocketsPerBoard=2 CoresPerSocket=18 ThreadsPerCore=2 RealMemory=180000 Gres=gpu:titan:6 State=UNKNOWN
NodeName=elsa-12 CPUs=72 SocketsPerBoard=2 CoresPerSocket=18 ThreadsPerCore=2 RealMemory=180000 Gres=gpu:titan:6 State=UNKNOWN
NodeName=elsa-13 CPUs=72 SocketsPerBoard=2 CoresPerSocket=18 ThreadsPerCore=2 RealMemory=180000 Gres=gpu:titan:6 State=UNKNOWN
NodeName=elsa-15 CPUs=72 SocketsPerBoard=2 CoresPerSocket=18 ThreadsPerCore=2 RealMemory=180000 Gres=gpu:titan:6 State=UNKNOWN
#
#
# PARTITIONS
PartitionName=prio-high Nodes=ALL Default=NO MaxTime=INFINITE State=UP OverSubscribe=FORCE Priority=3
PartitionName=prio-mid Nodes=ALL Default=NO MaxTime=INFINITE State=UP OverSubscribe=FORCE Priority=2
PartitionName=prio-low Nodes=ALL Default=YES MaxTime=INFINITE State=UP OverSubscribe=FORCE Priority=1